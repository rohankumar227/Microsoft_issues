<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raspberry Pi Code Demonstrations</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        width: 80%;
        margin: 20px auto;
      }
      h2 {
        color: #333;
      }
      .code-container {
        position: relative;
        background: #f4f4f4;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
      }
      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
      }
      .copy-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #007bff;
        color: white;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
      }
      .copy-btn:hover {
        background: #0056b3;
      }
    </style>
    <script>
      function copyCode(button, id) {
        let codeBlock = document.getElementById(id);
        navigator.clipboard.writeText(codeBlock.innerText).then(() => {
          button.innerText = "Copied!";
          setTimeout(() => {
            button.innerText = "Copy";
          }, 2000);
        });
      }
    </script>
  </head>
  <body>
    <a href="https://www.tinkercad.com/things/6UFP2FKLnfH-prac-2?sharecode=IoNyh5jTe990fr5bwGkve4Xad1iL7yVXlWimtvuPhgA" target="_blank" style="text-decoration: none;color:black">Q) Demonstrate Raspberry Pi and its pin interfacing with IDE</a>

    <h3>C++ Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code1')">Copy</button>
      <pre id="code1">

fun main() {
    print("Enter your percentage: ")
    val percentage = readLine()!!.toInt()
    
    var grade: String
    
    if (percentage >= 90) {
        grade = "A+"
    } else if (percentage >= 80) {
        grade = "A"
    } else if (percentage >= 70) {
        grade = "B+"
    } else if (percentage >= 60) {
        grade = "B"
    } else if (percentage >= 50) {
        grade = "C"
    } else if (percentage >= 40) {
        grade = "D"
    } else {
        grade = "F"
    }
    
    println("Your grade is: $grade")
}

fun main() {
    print("Enter a number: ")
    val number = readLine()!!.toInt()

    if (number < 0) {
        println("Factorial is not defined for negative numbers")
    } else {
        var factorial = 1
        for (i in 1..number) {
            factorial *= i
        }
        println("The factorial of $number is $factorial")
    }
}

fun main() {
    println("Prime numbers between 0 and 100 are:")

    for (num in 2..100) {
        var isPrime = true

        for (i in 2 until num) {
            if (num % i == 0) {
                isPrime = false
                break
            }
        }

        if (isPrime) {
            print("$num ")
        }
    }
}


fun main() {
    print("Enter the number of terms in the Fibonacci series: ")
    val terms = readLine()!!.toInt()
    
    var first = 0
    var second = 1

    print("Fibonacci series up to $terms terms: ")

    for (i in 1..terms) {
        print("$first ")
        val nextTerm = first + second
        first = second
        second = nextTerm
    }
}


import kotlin.math.pow

fun main() {
    print("Enter a number: ")
    val number = readLine()!!.toInt()
    val originalNumber = number
    val numberOfDigits = number.toString().length
    var sum = 0
    var tempNumber = number

    while (tempNumber > 0) {
        val digit = tempNumber % 10
        sum += digit.toDouble().pow(numberOfDigits).toInt()
        tempNumber /= 10
    }

    if (sum == originalNumber) {
        println("$originalNumber is an Armstrong number.")
    } else {
        println("$originalNumber is not an Armstrong number.")
    }
}


fun main() {
    val array = intArrayOf(1, 2, 3, 4, 5)
    println("Original Array: ${array.joinToString(", ")}")

    val reversedArray = IntArray(array.size)
    var j = 0

    for (i in array.size - 1 downTo 0) {
        reversedArray[j] = array[i]
        j++
    }

    println("Reversed Array: ${reversedArray.joinToString(", ")}")
}

fun main() {
    val array = intArrayOf(10, 20, 5, 30, 15)
    var largest = array[0]
    var smallest = array[0]

    for (element in array) {
        if (element &gt largest) {
            largest = element
        }
        if (element &lt smallest) {
            smallest = element
        }
    }

    println("Largest element: $largest")
    println("Smallest element: $smallest")
}


fun main() {
    val array = intArrayOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
    var sumOfEvens = 0

    for (element in array) {
        if (element % 2 == 0) {
            sumOfEvens += element
        }
    }

    println("Sum of even numbers: $sumOfEvens")
}

fun main() {
    val array = intArrayOf(1, 2, 3, 4, 2, 5, 2, 6)
    val eToFind = 2
    var count = 0

    for (element in array) {
        if (element == eToFind) {
            count++
        }
    }

    println("The element $eToFind appears $count times in the array.")
}

fun main() {
    val array1 = intArrayOf(1, 2, 3, 4)
    val array2 = intArrayOf(5, 6, 7, 8)
    val mergedArray = IntArray(array1.size + array2.size)

    for (i in array1.indices) {
        mergedArray[i] = array1[i]
    }
    
    for (i in array2.indices) {
        mergedArray[array1.size + i] = array2[i]
    }

    println("Merged Array: ${mergedArray.joinToString(", ")}")
}
          
        </pre>
      
    </div>

    <h3>Python Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code2')">Copy</button>
      <pre id="code2">
from gpiozero import LED
import time

led = LED(4)

for _ in range(10):
    led.on()
    print("Led on")
    time.sleep(1)
    led.off()
    print("Led off")
    time.sleep(1)
        </pre
      >
    </div>

<h2>
      Q) GPIO: Light the LED with Python without a button using Raspberry Pi
  </h2>

    <h3>C++ Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code3')">Copy</button>
      <pre id="code3">
#define LED_PIN 8
#define BUTTON_PIN 7

void setup() {
    pinMode(LED_PIN, OUTPUT);
    pinMode(BUTTON_PIN, INPUT);
}
void loop() {
    if (digitalRead(BUTTON_PIN) == HIGH) {
        digitalWrite(LED_PIN, HIGH);
    } else {
        digitalWrite(LED_PIN, LOW);
    }
}
        </pre
      >
    </div>

    <h3>Python Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code4')">Copy</button>
      <pre id="code4">
import RPi.GPIO as GPIO
from time import sleep

GPIO.setmode(GPIO.BCM)
LedPin = 4
GPIO.setup(LedPin, GPIO.OUT)

try:
    while True:
        GPIO.output(LedPin, True)
        print("LED ON")
        sleep(0.55)
        GPIO.output(LedPin, False)
        print("LED OFF")
        sleep(0.45)
except KeyboardInterrupt:
    pass
finally:
    GPIO.output(LedPin, False)
    GPIO.cleanup()
        </pre
      >
    </div>
    <a href="https://www.tinkercad.com/things/dCIVz5DT9mF-prac-3?sharecode=CpDQ2Q3h8mrMLLnFXQVexVPh9wEdSsHmxu7a6rAsOog" target="_blank" style="text-decoration: none;color:black">2) With Button:</a>

      <h3>Python code</h3>
      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this, 'code9')">Copy</button>
        <pre id="code9">
          import RPi.GPIO as GPIO
          import time
          
          GPIO.setmode(GPIO.BCM)
          GPIO.setup(23, GPIO.IN, pull_up_down=GPIO.PUD_UP)
          GPIO.setup(24, GPIO.OUT)
          
          try:
              while True:
                  button_state = GPIO.input(23)
                  print("Running")
                  
                  if button_state == False:
                      GPIO.output(24, True)
                      print("Button pressed...")
                      time.sleep(0.3)
                  else:
                      GPIO.output(24, False)
          
          except KeyboardInterrupt:
              pass
          
          finally:
              GPIO.cleanup()
          
            </pre
        >
</div>
<h2>
  Aim: SPI - Camera Connection and Capturing Images/Videos
</h2>

<h3>Python Code:</h3>
<div class="code-container">
  <button class="copy-btn" onclick="copyCode(this, 'code10')">Copy</button>
  <pre id="code10">
    from picamera2 import Picamera2, Preview
    import time
    
    camera = Picamera2()
    camera_config = camera.create_preview_configuration(main={"size": (2048, 1536)})
    
    camera.configure(camera_config)
    camera.start_preview(Preview.QTGL)
    
    camera.start()
    print("Previewing")
    
    time.sleep(5)
    camera.capture_file("captured_image.jpg")
    
    print("Picture Saved")
    camera.stop_preview()
    camera.stop()    
    </pre
  >
</div>
<a href="https://www.tinkercad.com/things/20XrdH4GxUs-prac-5?sharecode=X_Hw_mwc0rn0GY5d_834TLe7r-u5IK0FF9RENNlV8G4" target="_blank" style="text-decoration: none;color:black">Q) Stepper Motor Control - PWM to Manage Stepper Motor Speed</a>

    <h3>C++ Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code5')">Copy</button>
      <pre id="code5">
#include &lt;Stepper.h&gt;

const int stepsPerRevolution = 200;
Stepper myStepper(stepsPerRevolution, 8, 9, 10, 11);

void setup() {}

void loop() {
    int sensorReading = analogRead(A0);
    int motorSpeed = map(sensorReading, 0, 1023, 0, 100);
    if (motorSpeed > 0) {
        myStepper.setSpeed(motorSpeed);
        myStepper.step(stepsPerRevolution / 100);
    }
}
        </pre
      >
    </div>

    <h3>Python Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code6')">Copy</button>
      <pre id="code6">
import RPi.GPIO as GPIO
import time

IN1 = 23
IN2 = 24
IN3 = 25
IN4 = 8

GPIO.setmode(GPIO.BCM)
GPIO.setup(IN1, GPIO.OUT)
GPIO.setup(IN2, GPIO.OUT)
GPIO.setup(IN3, GPIO.OUT)
GPIO.setup(IN4, GPIO.OUT)

Seq = [
    [1, 0, 0, 0],
    [1, 1, 0, 0],
    [0, 1, 0, 0],
    [0, 1, 1, 0],
    [0, 0, 1, 0],
    [0, 0, 1, 1],
    [0, 0, 0, 1],
    [1, 0, 0, 1]
]

def rotate_motor(delay, steps):
    for _ in range(steps):
        for step in Seq:
            GPIO.output(IN1, step[0])
            GPIO.output(IN2, step[1])
            GPIO.output(IN3, step[2])
            GPIO.output(IN4, step[3])
            time.sleep(delay)

try:
    print("Rotating motor clockwise...")
    rotate_motor(0.002, 512)
    time.sleep(1)

    print("Rotating motor counterclockwise...")
    Seq.reverse()
    rotate_motor(0.002, 512)

except KeyboardInterrupt:
    print("\nExiting...")

finally:
    GPIO.cleanup()
        </pre
      >
    </div>

    <a href="https://www.tinkercad.com/things/4MHEomIEMWh-prac-6?sharecode=fPg2X_1rrmKOMgcPYEg83UfzdDusF04HRwMwZ01ANbw" target="_blank" style="text-decoration: none;color:black">
      Aim: Use Different Types of Sensors (LDR, Temperature) with Raspberry Pi
</a>

    <h3>C++ Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code7')">Copy</button>
      <pre id="code7">
const int ledPin = 9;
const int ldrPin = A0;

void setup() {
    pinMode(ledPin, OUTPUT);
    pinMode(ldrPin, INPUT);
}

void loop() {
    int ldrValue = analogRead(ldrPin);

    if (ldrValue < 500) {
        digitalWrite(ledPin, HIGH);
    } else {
        digitalWrite(ledPin, LOW);
    }

    delay(100);
}
        </pre
      >
    </div>

    <h3>Python Code:</h3>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this, 'code8')">Copy</button>
      <pre id="code8">
import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BCM)

LIGHT_SENSOR_PIN = 15
LED_PIN = 12

GPIO.setup(LIGHT_SENSOR_PIN, GPIO.IN, pull_up_down=GPIO.PUD_UP)
GPIO.setup(LED_PIN, GPIO.OUT)

try:
    while True:
        light_state = GPIO.input(LIGHT_SENSOR_PIN)

        if light_state == GPIO.LOW:
            GPIO.output(LED_PIN, GPIO.LOW)
            print("Light is present, turn off the LED")
        else:
            GPIO.output(LED_PIN, GPIO.HIGH)
            print("Light is not present, turn on the LED")

        time.sleep(1)

except KeyboardInterrupt:
    GPIO.cleanup()
        </pre>

      
      </div>
    
  <h2>Trigger a set of led GPIO on any IoT platform via any related web server</h2>

  <div class="code-container">
    <button class="copy-btn" onclick="copyCode(this, 'code12')">Copy</button>
    <pre id="code12">
  import RPi.GPIO as GPIO 
  import os 
  from http.server import BaseHTTPRequestHandler, HTTPServer 
  import urllib.parse 
  
  HOST_NAME = '192.168.0.112' 
  HOST_PORT = 8000 
  LED1_PIN = 18 
  LED2_PIN = 23 
  
  def setupGPIO(): 
      GPIO.setmode(GPIO.BCM) 
      GPIO.setwarnings(False) 
      GPIO.setup(LED1_PIN, GPIO.OUT) 
      GPIO.setup(LED2_PIN, GPIO.OUT) 
  
  def getTemperature(): 
      return os.popen("/opt/vc/bin/vcgencmd measure_temp").read().strip() 
  
  class MyServer(BaseHTTPRequestHandler): 
      def do_HEAD(self): 
          self.send_response(200) 
          self.send_header('Content-type', 'text/html') 
          self.end_headers() 
  
      def _redirect(self, path): 
          self.send_response(303) 
          self.send_header('Content-type', 'text/html') 
          self.send_header('Location', path) 
          self.end_headers() 
  
      def do_GET(self): 
          self.do_HEAD() 
          temperature = getTemperature() 
          html = f""" 
          &lt;html&gt; 
              &lt;head&gt;&lt;title&gt;Raspberry Pi LED Control&lt;/title&gt;&lt;/head&gt; 
              &lt;body style=&quot;width:960px; margin:20px auto;&quot;&gt; 
                  &lt;h1&gt;Welcome to my Raspberry Pi&lt;/h1&gt; 
                  &lt;h2&gt;Temperature: {temperature}&lt;/h2&gt; 
                  &lt;form action=&quot;/&quot; method=&quot;POST&quot;&gt; 
                      &lt;h3&gt;Control LED 1&lt;/h3&gt; 
                      &lt;button type=&quot;submit&quot; name=&quot;led&quot; value=&quot;LED1 On&quot;&gt;Turn LED 1 On&lt;/button&gt; 
                      &lt;button type=&quot;submit&quot; name=&quot;led&quot; value=&quot;LED1 Off&quot;&gt;Turn LED 1 Off&lt;/button&gt; 
                      &lt;h3&gt;Control LED 2&lt;/h3&gt; 
                      &lt;button type=&quot;submit&quot; name=&quot;led&quot; value=&quot;LED2 On&quot;&gt;Turn LED 2 On&lt;/button&gt; 
                      &lt;button type=&quot;submit&quot; name=&quot;led&quot; value=&quot;LED2 Off&quot;&gt;Turn LED 2 Off&lt;/button&gt; 
                  &lt;/form&gt; 
              &lt;/body&gt; 
          &lt;/html&gt; 
          """ 
          self.wfile.write(html.encode("utf-8")) 
  
      def do_POST(self): 
          content_length = int(self.headers['Content-Length']) 
          post_data = self.rfile.read(content_length) 
          data = urllib.parse.parse_qs(post_data.decode('utf-8')) 
          if 'led' in data: 
              action = data['led'][0] 
              if action == 'LED1 On': 
                  GPIO.output(LED1_PIN, GPIO.HIGH) 
              elif action == 'LED1 Off': 
                  GPIO.output(LED1_PIN, GPIO.LOW) 
              elif action == 'LED2 On': 
                  GPIO.output(LED2_PIN, GPIO.HIGH) 
              elif action == 'LED2 Off': 
                  GPIO.output(LED2_PIN, GPIO.LOW) 
              self._redirect('/') 
  
  if __name__ == '__main__': 
      setupGPIO() 
      server = HTTPServer((HOST_NAME, HOST_PORT), MyServer) 
      print(f"Server started at http://{HOST_NAME}:{HOST_PORT}") 
      try: 
          server.serve_forever() 
      except KeyboardInterrupt: 
          GPIO.cleanup() 
          server.server_close() 
          print("\nServer stopped")
    </pre>
  </div>
  

  
  
    </div>
  </body>
</html>
